<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="partyMapper">

<resultMap type="party" id="partyResultSet">
	<result column="PA_NO" property="paNo"></result>
	<result column="PA_NAME" property="paName"></result>
	<result column="TABLE_CD" property="tableCd"></result>
	<result column="OTT_NO" property="ottNo"></result>
	<result column="PA_TITLE" property="paTitle"></result>
	<result column="CREW_NUM" property="crewNum"></result>
	<result column="OTT_ID" property="ottId"></result>
	<result column="OTT_PWD" property="ottPwd"></result>
	<result column="START_DATE" property="startDate"></result>
	<result column="END_DATE" property="endDate"></result>
	<result column="DAY_PRICE" property="dayPrice"></result>
	<result column="ACCOUNT" property="account"></result>
	<result column="STATUS" property="status"></result>
</resultMap>

	<select id="getPrice" parameterType="String" resultType="int">
		SELECT OTT_PRICE 
		FROM OTT 
		WHERE OTT_NO = #{ottNo}
	</select>
	
	
	<select id="insertParty" parameterType="Party">
		INSERT INTO PARTY(
			PA_NO,
			PA_NAME,
			OTT_NO,
			PA_TITLE,
			CREW_NUM,
			OTT_ID,
			OTT_PWD,
			END_DATE,
			DAY_PRICE,
			ACCOUNT
		) VALUES(
			SEQ_PNO.NEXTVAL,
			#{paName},
			#{ottNo},
			#{paTitle},
			#{crewNum},
			#{ottId},
			#{ottPwd},
			#{endDate},
			#{dayPrice},
			#{account}
		)
		
	</select>

</mapper>